 打开zookeeper服务
 zkserver
 
搭建一个多个broker的集群

刚才只是启动了单个broker，现在启动有3个broker组成的集群，这些broker节点也都是在本机上的：
首先为每个节点编写配置文件：

> cp config/server.properties config/server-1.properties
> cp config/server.properties config/server-2.properties
复制代码


在拷贝出的新文件中添加以下参数：
config/server-1.properties:
    broker.id=1
    port=9093
    log.dir=/tmp/kafka-logs-1
复制代码


config/server-2.properties:
    broker.id=2
    port=9094
    log.dir=/tmp/kafka-logs-2
复制代码
 
 打开3个kafka服务
 .\bin\windows\kafka-server-start.bat .\config\server.properties
 .\bin\windows\kafka-server-start.bat .\config\server-1.properties
 .\bin\windows\kafka-server-start.bat .\config\server-2.properties
 
 nohup ./kafka-server-start.sh ../config/server.properties &
 
 查询主题
 bin\windows\kafka-topics.bat --describe --zookeeper localhost:2181 --topic my-replicated-topic
 
 ./kafka-topics.sh --describe --zookeeper 10.71.21.212:2181 --topic my-replicated-topic6

 
 kafka-topics.sh --describe --zookeeper 10.71.21.212:2181 --topic my-replicated-topic
 
 创建主题
 bin\windows\kafka-topics.bat --create --zookeeper localhost:2181 --replication-factor 1 --partitions 3 --topic my-replicated-topic5
 
 创建生成者
 bin\windows\kafka-console-producer.bat --broker-list localhost:9092 --topic my-replicated-topic6
 
 kafka-console-producer.sh --broker-list localhost:9092 --topic my-replicated-topic6
 kafka-console-producer.sh --broker-list 10.71.21.216:9092 --topic my-replicated-topic6
 
 创建消费者
 bin\windows\kafka-console-consumer.bat --zookeeper localhost:2181 --from-beginning --topic my-replicated-topic6
 
 bin\windows\kafka-console-consumer.sh --zookeeper 10.71.21.212:2181 --from-beginning --topic my-replicated-topic6
 
 bin\windows\kafka-server-stop.bat
 
 
作者：半兽人
链接：http://www.orchome.com/239
来源：OrcHome
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

// 偏移量描述
kafka-consumer-groups.bat --zookeeper localhost:2181 --describe --group s3

kafka-console-producer.bat --broker-list localhost:9092,localhost:9093,localhost:9094 --topic my-replicated-topic5


kafka-topics.bat --describe --zookeeper localhost:2181 --topic my-replicated-topic5


kafka-consumer-groups.bat --bootstrap-server localhost:9092,localhost:9093,localhost:9094 --list --new-consumer